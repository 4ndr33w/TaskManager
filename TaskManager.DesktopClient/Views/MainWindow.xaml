<Window x:Class="TaskManager.DesktopClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TaskManager.DesktopClient"
        xmlns:loginPanels="clr-namespace:TaskManager.DesktopClient.Views.Components.LoginPanels"
        xmlns:navButtonsUserControl="clr-namespace:TaskManager.DesktopClient.Views.Components.Buttons"
        xmlns:dataContext="clr-namespace:TaskManager.DesktopClient.ViewModels"
        xmlns:baseCommands="clr-namespace:TaskManager.DesktopClient.Resources.Commands.MainApplicationCommands"
        WindowStartupLocation="CenterScreen"
        mc:Ignorable="d"
        Background="{StaticResource WindowBackground}"
        Title="MainWindow" Height="650" Width="1200">
    <Window.Resources>
        <baseCommands:CloseApplicationCommand x:Key="CloseApplicationCommand"/>
        <dataContext:MainWindowViewModel x:Key="mainWindowDataContext"/>

    </Window.Resources>
    <DockPanel Background="{StaticResource WindowBackground}" LastChildFill="True">
        <DockPanel DockPanel.Dock="Top" LastChildFill="True" Background="Transparent">
            <DockPanel DockPanel.Dock="Left" Background="Transparent" Block.LineHeight="35">
               
                <Menu DockPanel.Dock="Left" Background="Transparent">
                    <MenuItem Header="File" Style="{StaticResource CommonMenuItemStyle}" Width="45">
                        <MenuItem Header="Open" Style="{StaticResource CommonMenuItemStyle}"></MenuItem>
                        <MenuItem Header="Add From file..." Style="{StaticResource CommonMenuItemStyle}"></MenuItem>
                        <MenuItem Header="Save" Style="{StaticResource CommonMenuItemStyle}">
                            <MenuItem Header="*.txt" Style="{StaticResource CommonMenuItemStyle}"></MenuItem>
                            <MenuItem Header="*.xml" Style="{StaticResource CommonMenuItemStyle}"></MenuItem>
                            <MenuItem Header="*.json" Style="{StaticResource CommonMenuItemStyle}"></MenuItem>
                        </MenuItem>
                        <MenuItem Header="Close" x:Name="MenuClose" Command="{StaticResource CloseApplicationCommand}"></MenuItem>
                    </MenuItem>
                    <MenuItem Header="Settings" Style="{StaticResource CommonMenuItemStyle}" Width="65" ></MenuItem>
                    <MenuItem Header="Help" Style="{StaticResource CommonMenuItemStyle}" Width="50"></MenuItem>
                    <MenuItem Header="About" Style="{StaticResource CommonMenuItemStyle}" Width="55"></MenuItem>
                </Menu>
            </DockPanel>
            <StackPanel DockPanel.Dock="Right">

                
                <!--<loginPanels:BaseLoginBarComponent/>-->


            </StackPanel>
            <Label/>
        </DockPanel>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="230"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" Width="200" BorderThickness="0,0,1,1" VerticalAlignment="Stretch" Style="{StaticResource CommonBorderStyle}"/>
            <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Stretch">
                    <StackPanel VerticalAlignment="Stretch" Width="215">
                    
                    <Grid HorizontalAlignment="Stretch">
                            <StackPanel>
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentUser}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Setter Property="Height" Value="0"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <ItemsControl ItemsSource="{Binding ProfileButtons}">


                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Button Style="{StaticResource CommonButtonStyle}" VerticalAlignment="Center" VerticalContentAlignment="Center" Command="{Binding Value}">
                                                <TextBlock Style="{StaticResource CommonTextBlockStyle}" VerticalAlignment="Center" Text="{Binding Key}"/>
                                            </Button>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>

                                </ItemsControl>
                            </StackPanel>

                        </Grid>
                    
                    <Grid>
                            <StackPanel>
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding CurrentUser}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Setter Property="Height" Value="0"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Style="{StaticResource CommonTextBlockStyle}" Text="{Binding CollectiveProjectsLabelString}"/>

                                <ItemsControl ItemsSource="{Binding OnlineUserNavButtons}" x:Name="onlineNavButonsUserControlPanel">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>


                                        <navButtonsUserControl:NavButtonComponent Margin="3,1,3,1" DataContext="{DynamicResource mainWindowDataContext.NavButtons}">
                                            <!--<navButtonsUserControl:NavButtonComponent.Style>
                                                <Style>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding CurrentUser.UserStatus}" Value="{x:Reference Name=Admin}">
                                                            <Setter Property="" Value="True"></Setter>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </navButtonsUserControl:NavButtonComponent.Style>-->
                                            
                                        </navButtonsUserControl:NavButtonComponent>


                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>

                        </Grid>

                        <Grid>
                            <StackPanel>
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding LocalUser}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Setter Property="Height" Value="0"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Style="{StaticResource CommonTextBlockStyle}" Text="{Binding CollectiveProjectsLabelString}"/>
                                <ItemsControl ItemsSource="{Binding LocalUserNavButtons}" x:Name="localNavButonsUserControlPanel">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>


                                            <navButtonsUserControl:NavButtonComponent Margin="3,1,3,1" DataContext="{DynamicResource mainWindowDataContext.NavButtons}"/>


                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>

                        </Grid>
                    </StackPanel>

            </StackPanel>
            <Grid Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="30"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="40"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                </Grid.ColumnDefinitions>
                <!--<Border Grid.Row="0" Grid.Column="1" Margin="5" BorderThickness="1,0,0,2" Style="{StaticResource CommonBorderStyle}" HorizontalAlignment="Left"/>-->
                <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding SelectedPageName}" Style="{StaticResource TextBlockHeader}" HorizontalAlignment="Stretch"/>
                <Frame Grid.Row="1" Grid.Column="1" NavigationUIVisibility="Hidden" Content="{Binding SelectedPage}" IsEnabled="True" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"/>
                <!--NavigationUIVisibility="Hidden"-->
                <!--<Border Grid.Row="1" Grid.Column="1" Margin="-50,0,0,0" BorderThickness="1,1,0,0" Style="{StaticResource CommonBorderStyle}" HorizontalAlignment="Stretch"/>-->
            </Grid>
        </Grid>
       
    </DockPanel>
</Window>
